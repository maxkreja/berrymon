
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Setup &#8212; Berrymon 1.0 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="API" href="api.html" />
    <link rel="prev" title="Berrymon - Raspberry Pi Monitoring" href="index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Berrymon</a></h1>



<p class="blurb">A complete monitoring solution for your Raspberry Pi.</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=maxkreja&repo=berrymon&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<p class="caption"><span class="caption-text">All contents of this documentation:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Setup</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#system-dependencies">System &amp; Dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="#lcd-connection-setup">LCD Connection &amp; Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configuration">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="#launch">Launch</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#autostart">Autostart</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">Modules</a></li>
</ul>


<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="setup">
<h1>Setup<a class="headerlink" href="#setup" title="Permalink to this headline">¶</a></h1>
<p>In order to use Berrymon, you will need to install some dependencies
and make some configurations to your system. If you want to, you can connect
an LCD display and make Berrymon use it. All required steps should be performed
in the same order as they are described here. If you don’t want to use an LCD,
skip the related steps.</p>
<p>The latest version of <a class="reference external" href="https://www.raspberrypi.org/downloads/raspbian/">Raspbian OS</a> is required for setting up Berrymon.</p>
<ol class="arabic simple">
<li><a class="reference internal" href="#system-deps"><span class="std std-ref">System &amp; Dependencies</span></a></li>
<li><a class="reference internal" href="#lcd-conn-setup"><span class="std std-ref">LCD Connection &amp; Setup</span></a></li>
<li><a class="reference internal" href="#installation"><span class="std std-ref">Installation</span></a></li>
<li><dl class="first docutils">
<dt><a class="reference internal" href="#configuration"><span class="std std-ref">Configuration</span></a></dt>
<dd>4.1 <a class="reference internal" href="#autostart"><span class="std std-ref">Autostart</span></a></dd>
</dl>
</li>
</ol>
<div class="section" id="system-dependencies">
<span id="system-deps"></span><h2>System &amp; Dependencies<a class="headerlink" href="#system-dependencies" title="Permalink to this headline">¶</a></h2>
<p>Berrymon is written in Python, hence it requires <a class="reference external" href="https://www.python.org">Python</a> to work. If you
haven’t installed Python 3 yet, run these commands to install it. In case Python 3 is already installed, it
won’t change anything:</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">Install Python 3 using <em>apt</em></span><a class="headerlink" href="#id1" title="Permalink to this code">¶</a></div>
<div class="highlight-bash"><div class="highlight"><pre><span></span>sudo apt install python3 python3-pip
</pre></div>
</div>
</div>
<p>Berrymon needs some Python libraries to work, you can install them right now or use the <em>requirements.txt</em>
file described in <a class="reference internal" href="#installation"><span class="std std-ref">Installation</span></a>:</p>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">Install Python libraries using <em>pip</em></span><a class="headerlink" href="#id2" title="Permalink to this code">¶</a></div>
<div class="highlight-bash"><div class="highlight"><pre><span></span>python3 -m pip install psutil smbus2 flask
</pre></div>
</div>
</div>
<p>As you’re done with setting up Python, you either can continue by setting up the LCD display
or with the installation of Berrymon in case you don’t want to use one.</p>
</div>
<div class="section" id="lcd-connection-setup">
<span id="lcd-conn-setup"></span><h2>LCD Connection &amp; Setup<a class="headerlink" href="#lcd-connection-setup" title="Permalink to this headline">¶</a></h2>
<p><em>A guide on how to connect your display to the Raspberry Pi in terms of hardware will come in the near future,
for now please refer to this</em> <a class="reference external" href="http://www.circuitbasics.com/raspberry-pi-i2c-lcd-set-up-and-programming">guide</a> <em>.</em></p>
<p><strong>If you are using the guide above, there is no need to install the python-smbus package, but do take note of the
display address because you will need it later. Berrymon includes all the code to communicate with the LCD, so you can
stop reading the guide above when it comes to programming the LCD.</strong></p>
</div>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>The easiest way to install Berrymon is to clone the <a class="reference external" href="https://github.com/maxkreja/berrymon">repository</a> from GitHub.
Make sure that <a class="reference external" href="https://git-scm.com/">git</a> is installed on your system, then clone the repository with the following command.</p>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text">Clone the latest version from GitHub</span><a class="headerlink" href="#id3" title="Permalink to this code">¶</a></div>
<div class="highlight-bash"><div class="highlight"><pre><span></span>git clone https://github.com/maxkreja/berrymon.git berrymon
</pre></div>
</div>
</div>
<p>Executing the command above, a new folder called ‘berrymon’ will be created into your current directory and Berrymon
will be downloaded into it. It’s recommended to download Berrymon to your home directory, so this guide always refers
to the files in it. If you didn’t, keep your chosen directory in mind, since you will need it later if you want to make
Berrymon start automatically as your Pi boots.</p>
<p><strong>Skip the next step if you already installed the Python dependencies in</strong> <a class="reference internal" href="#system-deps"><span class="std std-ref">System &amp; Dependencies</span></a></p>
<p>Now just install the Python dependencies by changing the directories and installing a ‘requirements.txt’ file. Assuming you are
in the directory where you downloaded Berrymon and you got a folder called ‘berrymon’, execute the following commands:</p>
<div class="literal-block-wrapper docutils container" id="id4">
<div class="code-block-caption"><span class="caption-text">Install Python dependencies</span><a class="headerlink" href="#id4" title="Permalink to this code">¶</a></div>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="nb">cd</span> berrymon
python3 -m pip install -r requirements.txt
</pre></div>
</div>
</div>
<p>That’s all you have to do in order to install Berrymon!</p>
<p>Now it’s time to configure Berrymon and get it up and running. Head on to the next section.</p>
</div>
<div class="section" id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<p>There are some changes you need to make to the configuration before you can finally launch Berrymon. There is a folder
called src in the Berrymon root directory, in it you will find a file called ‘config.json’. This has to be edited to
adjust Berrymon to your system configuration.</p>
<div class="literal-block-wrapper docutils container" id="id5">
<div class="code-block-caption"><span class="caption-text">Default contents of the configuration file</span><a class="headerlink" href="#id5" title="Permalink to this code">¶</a></div>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;0.0.0.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;port&quot;</span><span class="p">:</span> <span class="mi">2374</span><span class="p">,</span>
    <span class="nt">&quot;enable_lcd&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nt">&quot;lcd_addr&quot;</span><span class="p">:</span> <span class="s2">&quot;0x27&quot;</span><span class="p">,</span>
    <span class="nt">&quot;lcd_bus&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nt">&quot;lcd_lines&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="nt">&quot;lcd_line_length&quot;</span><span class="p">:</span> <span class="mi">16</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>The options and what they are doing are described in the following:</p>
<p><em>All options regarding the LCD display are irrelevant until ‘enable_lcd’ is set to true.</em></p>
<ul class="simple">
<li><strong>host:</strong> The address for the API to listen on, set it to <em>0.0.0.0</em> to listen on all addresses</li>
<li><strong>port:</strong> The port for the API to listen on, self explanatory</li>
<li><strong>enable_lcd:</strong> Tells Berrymon if an LCD should be used or not, this must be set to false if no LCD is connected</li>
<li><strong>lcd_addr:</strong> The address of the display, the section <a class="reference internal" href="#lcd-conn-setup"><span class="std std-ref">LCD Connection &amp; Setup</span></a> explains where to find the address (if the address of you display is just an integer like ‘27’, just ad ‘0x’ in front if it: ‘0x27’)</li>
<li><strong>lcd_bus:</strong> Leave this on ‘1’ if you got only a single display connected, if you got multiple display controllers you have to adjust this</li>
<li><strong>lcd_lines:</strong> The amount of lines the connected LCD display has</li>
<li><strong>lcd_line_length:</strong> The amount of characters that fit on one line of your display</li>
</ul>
<p>This means that the default configuration from above would mean the following:</p>
<ul class="simple">
<li><code class="code docutils literal"><span class="pre">&quot;host&quot;:</span> <span class="pre">&quot;0.0.0.0&quot;</span></code>: listen on all addresses</li>
<li><code class="code docutils literal"><span class="pre">&quot;port&quot;:</span> <span class="pre">2374</span></code>: listen on port 2374</li>
<li><code class="code docutils literal"><span class="pre">&quot;enable_lcd&quot;:</span> <span class="pre">true</span></code>: enable the LCD display</li>
<li><code class="code docutils literal"><span class="pre">&quot;lcd_addr&quot;:</span> <span class="pre">&quot;0x27&quot;</span></code>: according to <a class="reference internal" href="#lcd-conn-setup"><span class="std std-ref">LCD Connection &amp; Setup</span></a> the address of the display is ‘27’</li>
<li><code class="code docutils literal"><span class="pre">&quot;lcd_bus&quot;:</span> <span class="pre">1</span></code>: the bus number is ‘1’, we only got one controller connected</li>
<li><code class="code docutils literal"><span class="pre">&quot;lcd_lines&quot;:</span> <span class="pre">2</span></code>: our display has two lines</li>
<li><code class="code docutils literal"><span class="pre">&quot;lcd_line_length&quot;:</span> <span class="pre">16</span></code>: there are 16 characters on each line of our display</li>
</ul>
</div>
<div class="section" id="launch">
<h2>Launch<a class="headerlink" href="#launch" title="Permalink to this headline">¶</a></h2>
<p>To start Berrymon you need to be in the root directory of Berrymon. You should see a file tree like this:</p>
<div class="literal-block-wrapper docutils container" id="id6">
<div class="code-block-caption"><span class="caption-text">Berrymon root directory</span><a class="headerlink" href="#id6" title="Permalink to this code">¶</a></div>
<div class="highlight-bash"><div class="highlight"><pre><span></span>┌ docs
├ sphinx
├ src
├ .gitignore
├ LICENSE.md
├ README.md
└ requirements.txt
</pre></div>
</div>
</div>
<p>Navigate to the ‘src’ directory <code class="code docutils literal"><span class="pre">cd</span> <span class="pre">src</span></code>. To start Berrymon type this command: <code class="code docutils literal"><span class="pre">python3</span> <span class="pre">-m</span> <span class="pre">berrymon</span></code>.
That’s all it takes to start Berrymon manually. The API should now be running and listening on the address and port
you specified in the config file, if you connected and enabled an LCD display, this should turn on and display
some information.</p>
<p><em>Note:</em> If you want to save some storage space you can delete the ‘sphinx’ folder. If you don’t need the documentation
on your disc you can delete the ‘docs’ folder too.</p>
<div class="section" id="autostart">
<h3>Autostart<a class="headerlink" href="#autostart" title="Permalink to this headline">¶</a></h3>
<p><em>Coming soon</em></p>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;2019, Max Kreja.
      
      |
      <a href="_sources/setup.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>